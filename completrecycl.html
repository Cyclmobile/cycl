<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://www.gstatic.com/firebasejs/7.22.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.22.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-database.js"></script>
     <script src="https://www.gstatic.com/firebasejs/live/3.1/firebase.js"></script>
<title>
SuccesReturn
</title>
</head>

<body>

    <div class="container" style="position: absolute; bottom: 50%; z-index: 100; top: 20px;">
        <ul class="progressbar">
          <li class="activeprgrs">Scan</li>
          <li class="activeprgrs"> Return</li>
          <li class="activeprgrs">Recycled</li>
        </ul>
  
    </div>

      <div class="completedclass">
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <lottie-player src="https://assets6.lottiefiles.com/datafiles/NEtXbCwaq9H5isJ/data.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px; margin-left: 15%; position: relative; top: 10%;"  loop autoplay></lottie-player>
        <h2 style="color: #52b459; text-align: center;" > Recycling completed </h2>
        <h2 style="color: #52b459; text-align: center;" > You got 2 CC </h2>
        <button disabled style="  background-color: #52b459; width: 180px;
        height: 40px;
        border-radius: 25px;
        font-size: 20px; border: none;
        color: grey; margin-left:25%;" id="homebtn">Go back</button> 
      </div>
      

<script>
   
    const firebaseConfig = {
    apiKey: "AIzaSyDTR4_vw3x8pTxIAiS8Y0-3T4APCwotpyg",
    authDomain: "cycl-77b6c.firebaseapp.com",
    databaseURL: "https://cycl-77b6c.firebaseio.com",
    projectId: "cycl-77b6c",
    storageBucket: "cycl-77b6c.appspot.com",
    messagingSenderId: "139900263133",
    appId: "1:139900263133:web:9c72ae1fd6569fe6a1d934",
    measurementId: "G-VPV104NQQW"
  };
  firebase.initializeApp(firebaseConfig);

var amount=0

firebase.auth().onAuthStateChanged((FirebaseUser) => {
    if (FirebaseUser) {
      var uid= firebase.auth().currentUser.uid;
var user = firebase.auth().currentUser;

const backbtn=document.getElementById("homebtn")
  backbtn.addEventListener("click",function(){
      window.location.href="home.html"
    })

setTimeout(() => {

  backbtn.disabled=false
  backbtn.style.color="white"
  
}, 4000);

var amountcc = firebase.database().ref().child(uid).child("users/").child("amount");
amountcc.transaction(function(amount) {
 return amount + 2;
});

      console.log(FirebaseUser);
    } else {
      console.log("not logged in");
    }
  });



</script>
      

</body>

</html>
